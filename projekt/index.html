<!DOCTYPE html>
<html lang="pl">
  <head>
    <meta charset="UTF-8" />
    <title>Projekt</title>
    <link rel="stylesheet" href="css/style.css" />
    <link rel="stylesheet" href="css/layout.css" />
    <link rel="stylesheet" href="css/task.css" />
    <link rel="stylesheet" href="css/dialog.css" />
    <script type="module" src="./js/app.js" defer></script>
  </head>
  <body>
    <div id="loader"><span></span></div>
    
    <nav>
      <h1>üö£üèº Jira board</h1>
      
      <div style="display: flex; align-items: center; gap: 12px;">
        <button id="stats-btn" class="nav-btn">üìä Statystyki</button>
        
        <input type="search" id="search-input" placeholder="üîç Szukaj zadania..." class="search-input" />
        
        <button id="manage-users-btn" class="nav-btn">üë• Zesp√≥≈Ç</button>
        
        <input type="checkbox" id="theme-toggle" hidden />
        <label for="theme-toggle" class="theme-btn" title="Zmie≈Ñ motyw"></label>
      </div>
    </nav>
    
    <main></main>
    
    <dialog id="task-dialog">
      <h2>Nowe zadanie</h2>
      
      <form id="task-form">
        <div class="form-item">
          <label for="name"> Nazwa zadania:</label>
          <input id="name" name="name" type="text" maxlength="80" required />
        </div>
        
        <div class="form-item">
          <label for="assignee-select">Przypisz do:</label>
          <select id="assignee-select" name="assigneeId">
            <option value="">-- Brak --</option>
          </select>
        </div>
        
        <div class="form-item">
          <label for="deadline">Termin:</label>
          <input id="deadline" name="deadline" type="datetime-local" />
        </div>
        
        <div class="form-item">
          <label for="priority"> Priorytet:</label>
          <select id="priority-select" name="priorityId" required></select>
        </div>
        
        <div class="dialog-buttons">
          <button id="cancel-btn" type="button">Anuluj</button>
          <button type="submit">Zapisz</button>
        </div>
      </form>
    </dialog>
    
    <dialog id="users-dialog">
      <h2>ZarzƒÖdzanie zespo≈Çem</h2>
      
      <div style="margin-bottom: 24px;">
        <ul id="users-list" class="users-list">
        </ul>
      </div>
      
      <form id="user-form">
        <div class="form-item">
          <label for="user-name">Imiƒô:</label>
          <input id="user-name" name="name" type="text" required placeholder="np. Marek" />
        </div>
        
        <div class="form-item">
          <label for="user-color">Kolor:</label>
          <input id="user-color" name="color" type="color" value="#3787eb" style="width: 100%; height: 40px; cursor: pointer;" />
        </div>
        
        <div class="dialog-buttons">
          <button id="close-users-btn" type="button">Zamknij</button>
          <button type="submit">Dodaj</button>
        </div>
      </form>
    </dialog>
    
    <dialog id="edit-assignee-dialog">
      <h3>Zmie≈Ñ przypisanie</h3>
      
      <form id="edit-assignee-form">
        <input type="hidden" id="edit-task-id" name="taskId" />
        
        <div class="form-item">
          <label for="edit-assignee-select">Wybierz osobƒô:</label>
          <select id="edit-assignee-select" name="assigneeId">
            <option value="">-- Brak --</option>
          </select>
        </div>
        
        <div class="dialog-buttons">
          <button id="close-edit-btn" type="button">Anuluj</button>
          <button type="submit">Zapisz</button>
        </div>
      </form>
    </dialog>
    
    <dialog id="stats-dialog">
      <h2>Statystyki projektu</h2>
      
      <div class="stats-container">
        <canvas id="stats-canvas" width="200" height="200"></canvas>
        
        <div id="stats-legend"></div>
      </div>
      
      <div class="dialog-buttons">
        <button id="close-stats-btn" type="button">Zamknij</button>
      </div>
    </dialog>
  </body>
</html>